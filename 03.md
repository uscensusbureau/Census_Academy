# Getting Started with Census APIs: Statistics API

This post will outline how the developer, data analyst/scientist or civic hacker can make sense of one of the Census’ most rewarding and complex products, The American Community Survey.

### What You Will Learn

In the previous tutorials, we learned how to find and narrow down Census data for our topic of interest (TOI): Income inequality. We'll now take the table ID and variable names with us to gain access via the first of three Census APIs we will cover in the up-coming tutorials: The Statistics (aka "[DataWeb](https://api.census.gov/data.html)") API.

## Census Developers' Portal

A good place to start your journey as a developer using Census data is [census.gov/developers](https://census.gov/developers).  Here you can:
1. [Register for an API key](https://api.census.gov/data/key_signup.html)
2. Find a link to the Census chat room on [gitter](https://gitter.im/uscensusbureau/home)
3. See recent updates
4. Find general information on the gamut of [Census' publicly available APIs](https://www.census.gov/data/developers/data-sets.html)

## The American Community Survey (ACS)

From our previous tutorial, we ended up finding a table and variable from the ACS 1-year dataset. More information can be found about this survey and it's products (e.g.: 1-year, 5-year) by going to the [ACS Microsite on Census.gov](https://www.census.gov/programs-surveys/acs/). We won't go over the details of this or any other survey here as this tutorial is focused on how to use the data more than why is it collected.

Recall from the previous tutorial our table and variable of interest:

| ID | Table, File or Document Title | Dataset | About |
| --- | ---| --- | :---: |
| B19083 | [GINI INDEX OF INCOME INEQUALITY](https://factfinder.census.gov/faces/tableservices/jsf/pages/productview.xhtml?pid=ACS_16_1YR_B19083&prodType=table) | 2016 ACS 1-year estimates | i |

This resulting table gives us a number of valuable metadata we will need going into our query for data via the statistical API:

1. We'll need the ID: `B19083`
2. We'll need the Title: `GINI INDEX OF INCOME INEQUALITY`
3. We'll need the Dataset: `2016 ACS 1-year estimates`

### The DataWeb "Discovery Tool"

A handy helper provided by DataWeb in digging through their API is the [discovery tool](https://api.census.gov/data.html). This tool is itself an API, which can be accessed in three ways:
1. In web browser-friendly html: [https://api.census.gov/data.html](https://api.census.gov/data.html)
2. In JSON: [https://api.census.gov/data.json](https://api.census.gov/data.json)
3. In XML: [https://api.census.gov/data.xml](https://api.census.gov/data.xml)

This discovery tool is essentially a REST API with a hierarchical structure that branches off into individual endpoints where your actual call is made. The structure breaks down like this:

https://api.census.gov/data/ `year` or [`timeseries`](https://api.census.gov/data/timeseries.html) / `survey` or `producer` / `product` /

Here's the discovery endpoint for ACS 1-year:

[https://api.census.gov/data/2016/acs/acs1.html](https://api.census.gov/data/2016/acs/acs1.html)

> TIP: you can replace `.html` with `.json` or `.xml` to get the results back in those formats

We’ll start by opening a manageable spigot from the Census data fire hydrant by using a tool such as the American FactFinder. In the near future, this app will be replaced with a new one, but let’s keep with tradition until it does. We’ll start by doing a “Advanced Search” then typing “Poverty” into the “Topic” field. You’ll see some instant results being returned as you type. Let’s go with the “Poverty” result there. We’re only looking for the survey (the source of the data) to search via API, which you will see at the very top of the page upon clicking the “Poverty” result: S1702 POVERTY STATUS IN THE PAST 12 MONTHS OF FAMILIES 2011-2015 American Community Survey 5-Year Estimates The S in front of S1702 tells you to look for the S-tables (or Subject Tables) within the 2015 vintage of the American Community Survey.

Getting Access

Accessing statistics via API (DataWeb) Let’s start by getting the statistics we need (fill-in stat: Children living in poverty in 2015 – most current ACS available). First, we visit the DataWeb API by going to https://api.census.gov/data.html. This is a list of all the currently supported datasets the Census Bureau provides programmatic access to. We can quickly get to the year we want by adding it to the url like so: https://api.census.gov/data/2015.html We then scroll through the list to find what we’re looking for, namely: 2015 American Community Survey Subject Tables. Start by clicking the “variables” link: https://api.census.gov/data/2015/acs5/subject/variables.html TIP: You’ll notice that the url gives the developer some affordances that will help you peruse through the available endpoints. For example, you can remove variables from the url, like this: https://api.census.gov/data/2015/acs5/subject.html Which will focus you on this single product. This what Census call’s the DataWeb “Discovery Tool” In order to find the specific variable most relevant to our story, we’ll have to do some digging (ctrl+f “S1702”) within the “variables”. Now, the ACS 5-year is the largest of all of Census’ datasets in terms of the number of variables represented. The variable lists are huge, but if you can use the ACS, you are in good shape to use the other endpoints. With a bit of digging, we’ve found our variables of interest. Let’s go with S1702_C01_002E All families!!Total!!Families!!With related children of householder under 18 years POVERTY STATUS IN THE PAST 12 MONTHS OF FAMILIES It’s a little cryptic, but this will give us all families with children under 18 living in poverty. You can use the Discovery Tool to find an example of how to get the data by tract: https://api.census.gov/data/2015/acs5/subject/examples.html Let’s copy the example for tract (which gives you population, S0101_C01_001E) and add our variable, like so: https://api.census.gov/data/2015/acs5/subject?get=NAME,S0101_C01_001E,S1702_C01_002E&for=tract:*&in=state:01 So, in order to get tract data, you will need to make this call for each state (01 = Alabama). The result looks like this: [["NAME","S0101_C01_001E","S1702_C01_002E","state","county","tract"], ["Census Tract 201, Autauga County, Alabama","1948","223","01","001","020100"], ["Census Tract 202, Autauga County, Alabama","2156","228","01","001","020200"], ["Census Tract 203, Autauga County, Alabama","2968","325","01","001","020300"], …

Now we know how to get our data. On to getting our geographies… Again, never hesitate to reach out for help at cnmp.developers.list@census.gov for help. These are your “public servants” and they’re happy to serve you. Accessing geographic boundaries via API (TigerWeb) The TigerWeb is Census’ database of geographic boundaries. It’s an ESRI service, which has a web map service/API for which documentation can be found here: https://tigerweb.geo.census.gov/tigerwebmain/TIGERweb_wms.html

We need 2015, so click on the “ACS 2015” link in the left-side menu. In the “Layers” we’ll need “Census Tracts.” The authors realize that going through this tutorial, at this point if not sooner, you might be thinking “wow, this is all over the place” and you’re right. These services are owned by different groups which have evolved technologically at different rates. NOTE: The Census Bureau is working on making this experience more seamless (you can find an example of such effort with their CitySDK on github), but we’re kinda stuck with this until that works goes mainstream at the Bureau. If you like what the CitySDK is trying to do, give it a shout out on twitter to @uscensusbureau, star the repo and/or send an email to cnmp.developers.list@census.gov to show your support… in the meantime, back to the tutorial… Once we’ve found the layer we’re looking for, let’s figure out how to build the query to get what we need. Go to the bottom of the tract page and click “Query.” Now, for non-GIS users, we recommend reaching out for help at the email address provided above because some of the concepts are esoteric to that field, but for our purposes here, here’s how we construct our query:

This will give us…

## Summary



#### Contact
If you have any questions, need any assistance or run into *any* problems along your learning path, please reach out on Census' [gitter channel](https://gitter.im/uscensusbureau/home) or reach out via email at [cnmp.developers.list@census.gov](mailto:cnmp.developers.list@census.gov). Users have found the Census staff helpful and responsive.
<!--stackedit_data:
eyJoaXN0b3J5IjpbMTk0NjI4MTYyMCwtMTU4MTg1Mjc5MV19
-->